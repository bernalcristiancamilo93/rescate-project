"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5021],{5021:(U,C,v)=>{v.r(C),v.d(C,{LineCodesPageModule:()=>T});var B=v(9808),l=v(4182),c=v(9250),Z=v(2292),M=v(9301),e=v(2096);function R(r,p){if(1&r&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&r){const s=p.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",s.label," ")}}function A(r,p){if(1&r&&(e.TgZ(0,"ion-select-option",21),e._uU(1),e.qZA()),2&r){const s=p.$implicit;e.Q6J("value",s.value),e.xp6(1),e.hij(" ",s.label," ")}}const I=function(){return["/","home"]},N=[{path:"",component:(()=>{class r{constructor(s){this.alertCtrl=s,this.encoders=[{label:"Bipolar NRZ",value:"BNRZ",disabled:!1},{label:"Bipolar RZ",value:"BRZ",disabled:!1},{label:"AMI NRZ",value:"AMINRZ",disabled:!1},{label:"AMI RZ",value:"AMIRZ",disabled:!1},{label:"OG Manchester",value:"OGManchester",disabled:!1},{label:"Manchester IEEE 802.3",value:"ManchesterIEEE",disabled:!1},{label:"Differential Manchester",value:"ManchesterDif",disabled:!1},{label:"CMI",value:"CMI",disabled:!1},{label:" AMI NRZ With B8ZS",value:"B8ZS",disabled:!1},{label:" AMI NRZ With B6ZS",value:"B6ZS",disabled:!1},{label:" AMI NRZ With B3ZS",value:"B3ZS",disabled:!1}],this.timeUnits=[{label:"Seconds (s)",value:1,text:"s"},{label:"Miliseconds (ms)",value:1e3,text:"ms"},{label:"Microseconds (us)",value:1e6,text:"us"},{label:"Nanoseconds (ns)",value:1e9,text:"ns"}],this.b8zsPositive=["0","0","0","1","-1","0","-1","1"],this.b8zsNegative=["0","0","0","-1","1","0","1","-1"],this.b6zsPositive=["0","1","-1","0","-1","1"],this.b6zsNegative=["0","-1","1","0","1","-1"],this.b3zsPositiveEven=["-1","0","-1"],this.b3zsNegativeEven=["1","0","1"],this.b3zsPositiveOdd=["0","0","1"],this.b3zsNegativeOdd=["0","0","-1"]}ngOnInit(){this.encodingForm=new l.cw({bitStream:new l.NI(null,l.kI.required),numRandBits:new l.NI(8,[l.kI.required,l.kI.min(1)]),encondingType:new l.NI(null,l.kI.required),lastBit:new l.NI("-1",l.kI.required),txRate:new l.NI(1e3,[l.kI.required,l.kI.min(1)]),timeUnit:new l.NI(1e3,l.kI.required),amplitude:new l.NI(1,[l.kI.required,l.kI.min(1)])})}checkIfBinary(){const s=this.getRawMessage();if(s)for(const a of s)"0"!==a&&"1"!==a&&this.alertCtrl.create({header:"Invalid Character on Message!",message:"Your message will be errased!",buttons:["Okay"]}).then(u=>{u.present(),u.onWillDismiss().then(()=>this.encodingForm.get("bitStream").patchValue(null))})}getRawMessage(){return this.encodingForm.get("bitStream").value}generateRandomBitStream(){const s=this.encodingForm.get("numRandBits").value,a=[];for(let u=0;u<s;u++)a.push(Math.round(Math.random()));this.encodingForm.get("bitStream").patchValue(a.toString().replace(/,/g,""))}calculate(){this.createClockChart(),this.createRawDataChart(),this.createEncondedDataChart(this.encodingForm.get("encondingType").value)}createEncondedDataChart(s){const a=this.encodingForm.get("bitStream").value.length,u=this.encodingForm.get("timeUnit").value/this.encodingForm.get("txRate").value;let f;"BNRZ"===s||"AMINRZ"===s||"B8ZS"===s||"B6ZS"===s||"B3ZS"===s?f=1:("BRZ"===s||"AMIRZ"===s||"OGManchester"===s||"ManchesterIEEE"===s||"ManchesterDif"===s||"CMI"===s)&&(f=2);const b=this.linspace(0,u*a,a*f+1,!0),d=this.encodingForm.get("bitStream").value.split(""),o=this.encodingForm.get("amplitude").value,t=[];if("BNRZ"===s)for(const i of d)t.push("1"===i?o:-1*o);else if("BRZ"===s)for(const i of d)"1"===i?(t.push(o),t.push("0")):(t.push(-1*o),t.push("0"));else if("AMINRZ"===s){let i=this.encodingForm.get("lastBit").value;for(const n of d)"1"===n&&"1"===i?(t.push(-1*o),i="-1"):"1"===n&&"-1"===i?(t.push(o),i="1"):t.push("0")}else if("AMIRZ"===s){let i=this.encodingForm.get("lastBit").value;for(const n of d)"1"===n&&"1"===i?(t.push(-1*o),t.push("0"),i="-1"):"1"===n&&"-1"===i?(t.push(o),t.push("0"),i="1"):(t.push("0"),t.push("0"))}else if("OGManchester"===s)for(const i of d)"1"===i?(t.push(1*o),t.push(-1*o)):(t.push(-1*o),t.push(1*o));else if("ManchesterIEEE"===s)for(const i of d)"1"===i?(t.push(-1*o),t.push(1*o)):(t.push(1*o),t.push(-1*o));else if("ManchesterDif"===s){let i=this.encodingForm.get("lastBit").value;for(const n of d)"1"===n&&"-1"===i?(t.push(-1*o),t.push(1*o),i="1"):"1"===n&&"1"===i||"0"===n&&"-1"===i?(t.push(1*o),t.push(-1*o),i="-1"):"0"===n&&"1"===i&&(t.push(-1*o),t.push(1*o),i="1")}else if("CMI"===s){let i=this.encodingForm.get("lastBit").value;for(const n of d)"1"===n&&"1"===i?(t.push(-1*o),t.push(-1*o),i="-1"):"1"===n&&"-1"===i?(t.push(1*o),t.push(1*o),i="1"):(t.push(-1*o),t.push(1*o))}else if("B8ZS"===s){let i=this.encodingForm.get("lastBit").value,n=0;for(const m of d)if("1"===m&&"1"===i?(t.push(-1*o),i="-1"):"1"===m&&"-1"===i?(t.push(1*o),i="1"):t.push("0"),"0"===m?n++:n=0,n>=8){for(let h=0;h<8;h++)t.pop();if("1"===i)for(const h of this.b8zsPositive)t.push(+h*o);else for(const h of this.b8zsNegative)t.push(+h*o);n=0}}else if("B6ZS"===s){let i=this.encodingForm.get("lastBit").value,n=0;for(const m of d)if("1"===m&&"1"===i?(t.push(-1*o),i="-1"):"1"===m&&"-1"===i?(t.push(1*o),i="1"):t.push("0"),"0"===m?n++:n=0,n>=6){for(let h=0;h<6;h++)t.pop();if("1"===i)for(const h of this.b6zsPositive)t.push(+h*o);else for(const h of this.b6zsNegative)t.push(+h*o);n=0}}else if("B3ZS"===s){let i=this.encodingForm.get("lastBit").value,n=0,m=0;for(const h of d)if("1"===h&&"1"===i?(t.push(-1*o),i="-1",m++):"1"===h&&"-1"===i?(t.push(1*o),i="1",m++):t.push("0"),"0"===h?n++:n=0,n>=3){for(let g=0;g<3;g++)t.pop();if("1"===i&&m%2==0)for(const g of this.b3zsPositiveEven)t.push(+g*o);else if("1"===i&&m%2==1)for(const g of this.b3zsPositiveOdd)t.push(+g*o);else if("-1"===i&&m%2==0)for(const g of this.b3zsNegativeEven)t.push(+g*o);else if("-1"===i&&m%2==1)for(const g of this.b3zsNegativeOdd)t.push(+g*o);n=0,m=0}}t.push(t.slice(-1)[0]),this.encodedDataChart&&this.encodedDataChart.destroy(),this.encodedDataChart=new M.kL("encodedDataChart",{type:"line",data:{labels:b,datasets:[{label:"Encoded Data",data:t,fill:!1,stepped:!0,pointRadius:0}]},options:{responsive:!0,aspectRatio:2.5,interaction:{intersect:!1,axis:"x"},scales:{x:{title:{display:!0,text:`Time (${this.timeUnits.find(({value:i})=>i===this.encodingForm.get("timeUnit").value).text})`}},y:{title:{display:!0,text:"Amplitude (V)"}}}}})}createRawDataChart(){const s=this.encodingForm.get("bitStream").value.length,a=this.encodingForm.get("timeUnit").value/this.encodingForm.get("txRate").value,u=this.linspace(0,a*s,s+1,!0),f=this.encodingForm.get("bitStream").value.split("");f.push(f.slice(-1)[0]);const b=[];f.forEach(o=>b.push(5*+o)),this.rawDataChart&&this.rawDataChart.destroy(),this.rawDataChart=new M.kL("rawDataChart",{type:"line",data:{labels:u,datasets:[{label:"Data",data:b,fill:!1,stepped:!0,pointRadius:0}]},options:{responsive:!0,aspectRatio:2.5,interaction:{intersect:!1,axis:"x"},scales:{x:{title:{display:!0,text:`Time (${this.timeUnits.find(({value:o})=>o===this.encodingForm.get("timeUnit").value).text})`}},y:{title:{display:!0,text:"Amplitude (V)"}}}}})}createClockChart(){const s=this.encodingForm.get("bitStream").value.length,a=this.encodingForm.get("timeUnit").value/this.encodingForm.get("txRate").value,u=this.linspace(0,a*s,2*s+1,!0),f=[];u.forEach(()=>{f.push(0),f.push(1)}),this.clockChart&&this.clockChart.destroy(),this.clockChart=new M.kL("clockChart",{type:"line",data:{labels:u,datasets:[{label:"Clock",data:f,fill:!1,stepped:!0,pointRadius:0}]},options:{responsive:!0,aspectRatio:2.5,interaction:{intersect:!1,axis:"x"},scales:{x:{title:{display:!0,text:`Time (${this.timeUnits.find(({value:d})=>d===this.encodingForm.get("timeUnit").value).text})`}},y:{title:{display:!0,text:"Amplitude (V)"}}}}})}linspace(s,a,u,f=!0){const d=(a-s)/(f?u-1:u);return Array.from({length:u},(o,t)=>s+d*t)}}return r.\u0275fac=function(s){return new(s||r)(e.Y36(c.Br))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-line-codes"]],decls:70,vars:10,consts:[["slot","end"],["slot","icon-only",3,"routerLink"],["name","home-outline"],[3,"formGroup"],["position","floating"],["formControlName","bitStream","placeholder","Type your message","autoGrow","true","rows","1",3,"ionChange"],[3,"disabled","click"],["fill","outline",3,"disabled","click"],["type","number","formControlName","numRandBits"],["placeholder","Select encoding","formControlName","encondingType"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select last bit state","formControlName","lastBit"],["value","-1"],["value","1"],["type","number","formControlName","txRate"],["placeholder","Select a time unit","formControlName","timeUnit"],["type","number","formControlName","amplitude"],[1,"chart-container"],["id","clockChart"],["id","rawDataChart"],["id","encodedDataChart"],[3,"value"]],template:function(s,a){1&s&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e._UZ(4,"ion-icon",2),e.qZA()(),e.TgZ(5,"ion-title"),e._uU(6,"Line Codes"),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-grid")(9,"form",3)(10,"ion-row")(11,"ion-col")(12,"ion-row")(13,"ion-item")(14,"ion-label",4),e._uU(15," Bits stream "),e.qZA(),e.TgZ(16,"ion-textarea",5),e.NdJ("ionChange",function(){return a.checkIfBinary()}),e.qZA()()(),e.TgZ(17,"ion-row")(18,"ion-col")(19,"ion-button",6),e.NdJ("click",function(){return a.calculate()}),e._uU(20," Calculate "),e.qZA(),e.TgZ(21,"ion-button",7),e.NdJ("click",function(){return a.generateRandomBitStream()}),e._uU(22," Generate bit stream "),e.qZA(),e.TgZ(23,"ion-item")(24,"ion-label",4),e._uU(25," Number of random bits "),e.qZA(),e._UZ(26,"ion-input",8),e.qZA()()()(),e.TgZ(27,"ion-col")(28,"ion-row")(29,"ion-col")(30,"ion-list")(31,"ion-item")(32,"ion-label",4),e._uU(33," Encoding type "),e.qZA(),e.TgZ(34,"ion-select",9),e.YNc(35,R,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(36,"ion-item")(37,"ion-label",4),e._uU(38," Last bit state sent "),e.qZA(),e.TgZ(39,"ion-select",11)(40,"ion-select-option",12),e._uU(41," -1 "),e.qZA(),e.TgZ(42,"ion-select-option",13),e._uU(43," 1 "),e.qZA()()(),e.TgZ(44,"ion-item")(45,"ion-label",4),e._uU(46," Data transmission rate (bps) "),e.qZA(),e._UZ(47,"ion-input",14),e.qZA(),e.TgZ(48,"ion-item")(49,"ion-label",4),e._uU(50," Time Unit "),e.qZA(),e.TgZ(51,"ion-select",15),e.YNc(52,A,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(53,"ion-item")(54,"ion-label",4),e._uU(55," Output Signal amplitude (V) "),e.qZA(),e._UZ(56,"ion-input",16),e.qZA()()()()()(),e.TgZ(57,"ion-row")(58,"ion-col")(59,"div",17)(60,"canvas",18),e._uU(61),e.qZA()()(),e.TgZ(62,"ion-col")(63,"div",17)(64,"canvas",19),e._uU(65),e.qZA()()(),e.TgZ(66,"ion-col")(67,"div",17)(68,"canvas",20),e._uU(69),e.qZA()()()()()()()),2&s&&(e.xp6(3),e.Q6J("routerLink",e.DdM(9,I)),e.xp6(6),e.Q6J("formGroup",a.encodingForm),e.xp6(10),e.Q6J("disabled",!a.encodingForm.valid),e.xp6(2),e.Q6J("disabled",!a.encodingForm.get("numRandBits").valid),e.xp6(14),e.Q6J("ngForOf",a.encoders),e.xp6(17),e.Q6J("ngForOf",a.timeUnits),e.xp6(9),e.Oqu(a.clockChart),e.xp6(4),e.Oqu(a.rawDataChart),e.xp6(4),e.Oqu(a.encodedDataChart))},dependencies:[B.sg,l._Y,l.JJ,l.JL,c.YG,c.Sm,c.wI,c.W2,c.jY,c.Gu,c.gu,c.pK,c.Ie,c.Q$,c.q_,c.Nd,c.t9,c.n0,c.g2,c.wd,c.sr,c.as,c.QI,c.j9,c.YI,Z.rH,l.sg,l.u]}),r})()}];let F=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Z.Bz.forChild(N),Z.Bz]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[B.ez,l.u5,c.Pc,F,l.UX]}),r})()}}]);