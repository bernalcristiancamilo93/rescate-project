"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7095],{7095:(V,q,h)=>{h.r(q),h.d(q,{DigitalModulationPageModule:()=>j});var T=h(9808),a=h(4182),l=h(9250),_=h(2292),A=h(9301),t=h(2096);function P(n,s){if(1&n&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function U(n,s){if(1&n&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function S(n,s){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-text"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"ion-text"),t._uU(6),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(3),t.hij(" ",e[0]," "),t.xp6(3),t.hij(" ",e[1]," ")}}function Q(n,s){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-text"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"ion-text"),t._uU(6),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(3),t.hij(" ",e[0]," "),t.xp6(3),t.hij(" ",e[1]," ")}}function D(n,s){if(1&n&&(t.TgZ(0,"ion-grid",22)(1,"ion-row",23)(2,"ion-col")(3,"ion-title")(4,"ion-text",24),t._uU(5," ADC Converter Truth Table "),t.qZA()()()(),t.TgZ(6,"ion-row")(7,"ion-col",23)(8,"ion-row")(9,"ion-col")(10,"ion-text"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-col")(13,"ion-text"),t._uU(14," Output (V) "),t.qZA()()(),t.YNc(15,S,7,2,"ion-row",25),t.qZA(),t.TgZ(16,"ion-col",23)(17,"ion-row")(18,"ion-col")(19,"ion-text"),t._uU(20),t.qZA()(),t.TgZ(21,"ion-col")(22,"ion-text"),t._uU(23," Output (V) "),t.qZA()()(),t.YNc(24,Q,7,2,"ion-row",25),t.qZA()()()),2&n){const e=t.oxw();t.xp6(11),t.hij(" ",e.bitsQTruthTable.join("")," "),t.xp6(4),t.Q6J("ngForOf",e.outAmplitudeQ),t.xp6(5),t.hij(" ",e.bitsITruthTable.join("")," "),t.xp6(4),t.Q6J("ngForOf",e.outAmplitudeI)}}function k(n,s){if(1&n&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-text"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"ion-text"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-col")(8,"ion-text"),t._uU(9),t.qZA()()()),2&n){const e=s.$implicit;t.xp6(3),t.hij(" ",e[0]," "),t.xp6(3),t.hij(" ",e[1]," "),t.xp6(3),t.hij(" ",e[2]," ")}}function N(n,s){if(1&n&&(t.TgZ(0,"ion-grid",22)(1,"ion-row",23)(2,"ion-col")(3,"ion-title")(4,"ion-text",24),t._uU(5),t.qZA()()()(),t.TgZ(6,"ion-row")(7,"ion-col",23)(8,"ion-row")(9,"ion-col")(10,"ion-text"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-col")(13,"ion-text"),t._uU(14," Out Amplitude (V) "),t.qZA()(),t.TgZ(15,"ion-col")(16,"ion-text"),t._uU(17," Out Phase (\xb0) "),t.qZA()()(),t.YNc(18,k,10,3,"ion-row",25),t.qZA()()()),2&n){const e=t.oxw();t.xp6(5),t.hij(" Output Table ",e.numModulationType," QAM "),t.xp6(6),t.AsE(" ",e.bitsQTruthTable.join("")," ",e.bitsITruthTable.join("")," "),t.xp6(7),t.Q6J("ngForOf",e.outTable)}}const R=function(){return["/","home"]},J=[{path:"",component:(()=>{class n{constructor(e){this.alertCtrl=e,this.bitsQTruthTable=[],this.bitsITruthTable=[],this.outAmplitudeQ=[],this.outAmplitudeI=[],this.outTable=[],this.numModulationType=0,this.isTableReady=!1,this.modulationTypes=[{label:"1024 QAM",value:"1024qam",numBits:10},{label:"256 QAM",value:"256qam",numBits:8},{label:"64 QAM",value:"64qam",numBits:6},{label:"16 QAM",value:"16qam",numBits:4}],this.timeUnits=[{label:"Seconds (s)",value:1,text:"s"},{label:"Miliseconds (ms)",value:1e3,text:"ms"},{label:"Microseconds (us)",value:1e6,text:"us"},{label:"Nanoseconds (ns)",value:1e9,text:"ns"}]}ngOnInit(){this.modulationForm=new a.cw({modulationType:new a.NI(null,a.kI.required),bitFrame:new a.NI(null,a.kI.required),symbolRate:new a.NI(9600,[a.kI.required,a.kI.min(1)]),amplitude:new a.NI(1.161,[a.kI.required,a.kI.min(1)]),timeUnit:new a.NI(1e3,a.kI.required),numraRandSymbols:new a.NI(4,[a.kI.required,a.kI.min(1)]),carrierFreq:new a.NI(19200,[a.kI.required,a.kI.min(1)])})}calculate(){const e=this.bitsPerSymbol(),o=this.formatInput(this.getRawMessage(),this.bitsPerSymbol()),i=[];for(const r of o){const p=r.slice(0,r.length/2),b=r.slice(r.length/2,r.length+1);i.push([p,b])}const u=this.modulationForm.get("amplitude").value*Math.SQRT1_2/(Math.pow(2,e/2)-1),c=[],g=[],d=Math.pow(2,e/2);for(let r=0;r<d;r++)c.push(u*(d-(1+2*r))),g.push(u*(1+2*r-d));this.createTruthTables(c,g);const y=this.modulationForm.get("timeUnit").value/this.modulationForm.get("symbolRate").value,Z=this.modulationForm.get("carrierFreq").value,F=Z/this.modulationForm.get("symbolRate").value*100,x=this.linspace(0,y,F,!1),w=[],C=[];for(let r=0;r<F;r++)w.push(Math.sin(2*Math.PI*Z*(x[r]/this.modulationForm.get("timeUnit").value))),C.push(Math.sin(2*Math.PI*Z*(x[r]/this.modulationForm.get("timeUnit").value)+Math.PI/2));const M=[];for(const r of i){const p=c[parseInt(r[0].join(""),2)],b=g[parseInt(r[1].join(""),2)];M.push([p,b])}const I=[];for(const r of M){const p=C.map(f=>f*r[0]),b=w.map(f=>f*r[1]);I.push(p.map((f,O)=>f+b[O]))}let v=[];for(const r of I)v=v.concat(r);this.createSineWaveChart(v),this.createPhasorChart(M)}formatInput(e,o){const i=e.split(""),m=[];for(let u=0;u<i.length;u+=o)m.push(i.slice(u,u+o));return m}linspace(e,o,i,m=!0){const c=(o-e)/(m?i-1:i);return Array.from({length:i},(g,d)=>e+c*d)}checkIfBinary(){const e=this.getRawMessage();if(e)for(const o of e)"0"!==o&&"1"!==o&&this.alertCtrl.create({header:"Invalid Character on Message!",message:"Your message will be errased!",buttons:["Okay"]}).then(i=>{i.present(),i.onWillDismiss().then(()=>this.modulationForm.get("bitFrame").patchValue(null))})}checkIfCorrect(){const e=this.getRawMessage(),o=this.bitsPerSymbol();!e||e.length%o!=0&&this.alertCtrl.create({header:"Invalid bit amount on Message!",message:`Your message must contain at least ${o} bits or a\n            multiple of it. Your message will be errased!`,buttons:["Okay"]}).then(i=>{i.present(),i.onWillDismiss().then(()=>this.modulationForm.get("bitFrame").patchValue(null))})}getRawMessage(){return this.modulationForm.get("bitFrame").value}bitsPerSymbol(){return this.modulationTypes.find(({value:e})=>e===this.modulationForm.get("modulationType").value).numBits}generateRandomBitFrame(){const e=this.modulationForm.get("numraRandSymbols").value,o=[];for(let i=0;i<e*this.bitsPerSymbol();i++)o.push(Math.round(Math.random()));this.modulationForm.get("bitFrame").patchValue(o.toString().replace(/,/g,""))}checkFreq(){const e=this.modulationForm.get("symbolRate").value,o=this.modulationForm.get("carrierFreq").value;!o||o<2*e&&this.alertCtrl.create({header:"Invalid carrier frequency!",message:"The carrier frequency must be al least twice the baud rate.\n           Your message will be errased!",buttons:["Okay"]}).then(i=>{i.present(),i.onWillDismiss().then(()=>this.modulationForm.get("carrierFreq").patchValue(null))})}createSineWaveChart(e){this.sineWaveChart&&this.sineWaveChart.destroy(),e.push(e.slice(-1)[0]);const o=this.modulationForm.get("bitFrame").value.length/this.bitsPerSymbol(),i=this.modulationForm.get("timeUnit").value/this.modulationForm.get("symbolRate").value*o,u=this.modulationForm.get("carrierFreq").value/this.modulationForm.get("symbolRate").value*100*o+1,g={labels:this.linspace(0,i,u,!0),datasets:[{label:"Modulated Signal",data:e,fill:!1,pointRadius:0,borderColor:"#3880ff",backgroundColor:"#4c8dff"}]};this.sineWaveChart=new A.kL("sineWaveChart",{type:"line",data:g,options:{responsive:!0,interaction:{intersect:!1,axis:"x"},scales:{x:{title:{display:!0,text:`Time (${this.timeUnits.find(({value:d})=>d===this.modulationForm.get("timeUnit").value).text})`}},y:{title:{display:!0,text:"Amplitude (V)"}}}}})}createPhasorChart(e){this.phasorChart&&this.phasorChart.destroy(),e=e.map(o=>o.reverse()),this.phasorChart=new A.kL("phasorChart",{type:"scatter",data:{datasets:[{label:"Phasor Chart",data:e,borderColor:"#3880ff",backgroundColor:"#4c8dff"}]},options:{responsive:!0,interaction:{intersect:!1,axis:"x"},scales:{x:{type:"linear",title:{display:!0,text:"I"}},y:{type:"linear",title:{display:!0,text:"Q"}}},aspectRatio:1}})}createTruthTables(e,o){this.isTableReady=!0,this.numModulationType=Math.pow(2,this.bitsPerSymbol()),this.bitsQTruthTable=[],this.bitsITruthTable=[],this.outAmplitudeQ=[],this.outAmplitudeI=[],this.outTable=[];for(let i=0;i<this.bitsPerSymbol()/2;i++)this.bitsQTruthTable.push(`Q${this.bitsPerSymbol()/2-i} `),this.bitsITruthTable.push(`I${this.bitsPerSymbol()/2-i} `);for(let i=0;i<Math.pow(2,this.bitsPerSymbol()/2);i++)this.outAmplitudeQ[i]=[i.toString(2),e[i].toFixed(4)],this.outAmplitudeI[i]=[i.toString(2),o[i].toFixed(4)];for(const[i,m]of e.entries())for(const[u,c]of o.entries()){const g=(u+i*this.bitsPerSymbol()).toString(2),d=Math.sqrt(Math.pow(m,2)+Math.pow(c,2)).toFixed(4),y=(180*Math.atan2(m,c)/Math.PI).toFixed(4);this.outTable.push([g,d,y])}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.Br))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-digital-modulation"]],decls:74,vars:13,consts:[["slot","end"],["slot","icon-only",3,"routerLink"],["name","home-outline"],[3,"formGroup"],["position","floating"],["placeholder","Select modulation scheme","formControlName","modulationType",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","symbolRate","placeholder","Enter a value",3,"ionBlur"],["type","number","formControlName","amplitude"],["type","number","formControlName","carrierFreq","placeholder","Enter a value",3,"disabled","ionBlur"],["placeholder","Select a time unit","formControlName","timeUnit"],["formControlName","bitFrame","placeholder","Type your message","autoGrow","true","rows","1",3,"disabled","ionChange","ionBlur"],[1,"ion-align-items-center"],["fill","outline",3,"disabled","click"],["type","number","formControlName","numraRandSymbols","placeholder","Enter a value"],[3,"disabled","click"],["size","10","offset","1"],[1,"chart-container"],["id","sineWaveChart"],["id","phasorChart"],["class","ion-text-center truth-table",4,"ngIf"],[3,"value"],[1,"ion-text-center","truth-table"],[1,"ion-margin"],[1,"ion-text-wrap"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),t._UZ(4,"ion-icon",2),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Digital Modulation"),t.qZA()()(),t.TgZ(7,"ion-content")(8,"ion-grid")(9,"form",3)(10,"ion-row")(11,"ion-col")(12,"ion-list")(13,"ion-item")(14,"ion-label",4),t._uU(15," Modulation type "),t.qZA(),t.TgZ(16,"ion-select",5),t.NdJ("ionChange",function(){return o.checkIfCorrect()}),t.YNc(17,P,2,2,"ion-select-option",6),t.qZA()(),t.TgZ(18,"ion-item")(19,"ion-label",4),t._uU(20," Symbol transmission rate (Bd) "),t.qZA(),t.TgZ(21,"ion-input",7),t.NdJ("ionBlur",function(){return o.checkFreq()}),t.qZA()(),t.TgZ(22,"ion-item")(23,"ion-label",4),t._uU(24," Modulated signal maximum amplitude (V) "),t.qZA(),t._UZ(25,"ion-input",8),t.qZA(),t.TgZ(26,"ion-item")(27,"ion-label",4),t._uU(28," Carrier frequency (Hz) "),t.qZA(),t.TgZ(29,"ion-input",9),t.NdJ("ionBlur",function(){return o.checkFreq()}),t.qZA()(),t.TgZ(30,"ion-item")(31,"ion-label",4),t._uU(32," Plotting Time Unit "),t.qZA(),t.TgZ(33,"ion-select",10),t.YNc(34,U,2,2,"ion-select-option",6),t.qZA()()()(),t.TgZ(35,"ion-col")(36,"ion-row")(37,"ion-col")(38,"ion-item")(39,"ion-label",4),t._uU(40," Bit frame "),t.qZA(),t.TgZ(41,"ion-textarea",11),t.NdJ("ionChange",function(){return o.checkIfBinary()})("ionBlur",function(){return o.checkIfCorrect()}),t.qZA()()()(),t.TgZ(42,"ion-row",12)(43,"ion-col")(44,"ion-button",13),t.NdJ("click",function(){return o.generateRandomBitFrame()}),t._uU(45," Generate random symbol "),t.qZA()(),t.TgZ(46,"ion-col")(47,"ion-item")(48,"ion-label",4),t._uU(49," Number of random symbols "),t.qZA(),t._UZ(50,"ion-input",14),t.qZA()()()()(),t.TgZ(51,"ion-row")(52,"ion-col")(53,"ion-button",15),t.NdJ("click",function(){return o.calculate()}),t._uU(54," Calculate "),t.qZA()()(),t.TgZ(55,"ion-row")(56,"ion-col",16)(57,"div",17)(58,"canvas",18),t._uU(59),t.qZA()()()(),t.TgZ(60,"ion-row")(61,"ion-col",16)(62,"ion-row")(63,"ion-col")(64,"div",17)(65,"canvas",19),t._uU(66),t.qZA()()(),t.TgZ(67,"ion-col"),t.YNc(68,D,25,4,"ion-grid",20),t.qZA()()()(),t.TgZ(69,"ion-row")(70,"ion-col",16)(71,"ion-row")(72,"ion-col"),t.YNc(73,N,19,4,"ion-grid",20),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.Q6J("routerLink",t.DdM(12,R)),t.xp6(6),t.Q6J("formGroup",o.modulationForm),t.xp6(8),t.Q6J("ngForOf",o.modulationTypes),t.xp6(12),t.Q6J("disabled",!o.modulationForm.get("symbolRate").valid),t.xp6(5),t.Q6J("ngForOf",o.timeUnits),t.xp6(7),t.Q6J("disabled",!o.modulationForm.get("modulationType").valid),t.xp6(3),t.Q6J("disabled",!o.modulationForm.get("numraRandSymbols").valid||!o.modulationForm.get("modulationType").valid),t.xp6(9),t.Q6J("disabled",!o.modulationForm.valid),t.xp6(6),t.Oqu(o.sineWaveChart),t.xp6(7),t.Oqu(o.phasorChart),t.xp6(2),t.Q6J("ngIf",o.isTableReady),t.xp6(5),t.Q6J("ngIf",o.isTableReady))},dependencies:[T.sg,T.O5,a._Y,a.JJ,a.JL,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.gu,l.pK,l.Ie,l.Q$,l.q_,l.Nd,l.t9,l.n0,l.yW,l.g2,l.wd,l.sr,l.as,l.QI,l.j9,l.YI,_.rH,a.sg,a.u],styles:[".truth-table[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{border:1px solid #dedede}"]}),n})()}];let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(J),_.Bz]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[T.ez,a.u5,l.Pc,B,a.UX]}),n})()}}]);