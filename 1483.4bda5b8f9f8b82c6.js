"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1483],{1483:(B,f,m)=>{m.r(f),m.d(f,{HammingPageModule:()=>y});var u=m(9808),c=m(4182),a=m(9250),h=m(2292),i=m(2096);function _(e,r){if(1&e&&(i.TgZ(0,"ion-col"),i._UZ(1,"ion-row"),i.TgZ(2,"ion-row")(3,"ion-col"),i._uU(4),i.qZA()(),i.TgZ(5,"ion-row")(6,"ion-col"),i._uU(7),i.qZA()()()),2&e){const o=r.$implicit,n=r.index,t=i.oxw(2);i.xp6(4),i.hij(" ",t.bitsTxData.length-n," "),i.xp6(3),i.hij(" ",o," ")}}function p(e,r){if(1&e&&(i.TgZ(0,"ion-col",14),i._UZ(1,"ion-row"),i.TgZ(2,"ion-row")(3,"ion-col"),i._uU(4),i.qZA()(),i.TgZ(5,"ion-row")(6,"ion-col"),i._uU(7),i.qZA()()()),2&e){const o=r.$implicit,n=r.index,t=i.oxw(2);i.xp6(4),i.hij(" ",t.hammingArray.length-n," "),i.xp6(3),i.hij(" ",o," ")}}function x(e,r){if(1&e&&(i.TgZ(0,"ion-row",11)(1,"ion-col",11),i._uU(2),i.qZA(),i.TgZ(3,"ion-col",13),i._uU(4),i.qZA()()),2&e){const o=r.$implicit,n=r.index,t=i.oxw(2);i.xp6(2),i.hij(" ",o," = "),i.xp6(2),i.hij(" ",t.posHammingBitsBinary[n]," ")}}function d(e,r){if(1&e&&(i.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-row")(3,"ion-col"),i._uU(4," Bit Frame "),i.qZA()(),i.TgZ(5,"ion-row"),i.YNc(6,_,8,2,"ion-col",9),i.qZA(),i.TgZ(7,"ion-row")(8,"ion-col"),i._uU(9," Transmitted Data "),i.qZA()(),i.TgZ(10,"ion-row"),i.YNc(11,p,8,2,"ion-col",10),i.qZA(),i.TgZ(12,"ion-row")(13,"ion-col"),i._uU(14," Hamming bits "),i.qZA()(),i.TgZ(15,"ion-row",11)(16,"ion-col",11),i.YNc(17,x,5,2,"ion-row",12),i.qZA()(),i.TgZ(18,"ion-row",11)(19,"ion-col",11),i._uU(20," Result "),i.qZA(),i.TgZ(21,"ion-col",13),i._uU(22),i.qZA()()()()),2&e){const o=i.oxw();i.xp6(6),i.Q6J("ngForOf",o.bitsTxData.reverse()),i.xp6(5),i.Q6J("ngForOf",o.hammingArray.reverse()),i.xp6(6),i.Q6J("ngForOf",o.posHammingBits.reverse()),i.xp6(5),i.hij(" ",o.hValue.reverse()," ")}}function Z(e,r){if(1&e&&(i.TgZ(0,"ion-col"),i._UZ(1,"ion-row"),i.TgZ(2,"ion-row")(3,"ion-col"),i._uU(4),i.qZA()(),i.TgZ(5,"ion-row")(6,"ion-col"),i._uU(7),i.qZA()()()),2&e){const o=r.$implicit,n=r.index,t=i.oxw(2);i.xp6(4),i.hij(" ",t.bitsRxData.length-n," "),i.xp6(3),i.hij(" ",o," ")}}function w(e,r){if(1&e&&(i.TgZ(0,"ion-row",11)(1,"ion-col",11),i._uU(2),i.qZA(),i.TgZ(3,"ion-col",13),i._uU(4),i.qZA()()),2&e){const o=r.$implicit,n=r.index,t=i.oxw(3);i.xp6(2),i.hij(" ",o," = "),i.xp6(2),i.hij(" ",t.onesRxBinary[n]," ")}}function T(e,r){if(1&e&&(i.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-row",11)(3,"ion-col",11),i.YNc(4,w,5,2,"ion-row",12),i.qZA()(),i.TgZ(5,"ion-row",11)(6,"ion-col",11),i._uU(7," Error place "),i.qZA(),i.TgZ(8,"ion-col",13),i._uU(9),i.qZA()()()()),2&e){const o=i.oxw(2);i.xp6(4),i.Q6J("ngForOf",o.onesRx.reverse()),i.xp6(5),i.hij(" ",o.errorPosBin," ")}}function H(e,r){if(1&e&&(i.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-row")(3,"ion-col"),i._uU(4," Data in receiver "),i.qZA()(),i.TgZ(5,"ion-row"),i.YNc(6,Z,8,2,"ion-col",9),i.qZA(),i.TgZ(7,"ion-row")(8,"ion-col"),i._uU(9," Error bits "),i.qZA()(),i.TgZ(10,"ion-row")(11,"ion-col"),i._uU(12),i.qZA()(),i.YNc(13,T,10,2,"ion-row",8),i.qZA()()),2&e){const o=i.oxw();i.xp6(6),i.Q6J("ngForOf",o.bitsRxData.reverse()),i.xp6(6),i.hij(" ",o.errorMsg," "),i.xp6(1),i.Q6J("ngIf",0!==o.errorPos)}}const A=function(){return["/","home"]},P=[{path:"",component:(()=>{class e{constructor(o){this.alertCtrl=o,this.bitsTxData=[],this.bitsRxData=[],this.hValue=[],this.hammingArray=[],this.posHammingBits=[],this.posHammingBitsBinary=[],this.onesRx=[],this.onesRxBinary=[],this.errorPos=0,this.errorPosBin=[],this.errorMsg="",this.isHammingTxCalculated=!1,this.isHammingRxCalculated=!1}ngOnInit(){this.codificarForm=new c.cw({message:new c.NI(null,c.kI.required)}),this.decodificarForm=new c.cw({message:new c.NI(null,[c.kI.required,c.kI.minLength(3)])})}calculateTxHamming(){const o=this.formatMessage(this.getRawMessage("tx")),n=this.calculateNumParityBits(o);this.bitsTxData=this.createDataArray(o,n),this.posHammingBits=this.findOnes(this.bitsTxData),this.hValue=this.calculateXOR(this.posHammingBits,n),this.hammingArray=this.replaceH(this.bitsTxData,this.hValue),this.convertDecToBin(),this.isHammingTxCalculated=!0,console.log("Vector total con H:",this.bitsTxData),console.log("Posiciones de los 1:",this.posHammingBits),console.log("Vector H calculado:",this.hValue),console.log("Vector final:",this.hammingArray)}convertDecToBin(){for(const o of this.posHammingBits)this.posHammingBitsBinary.push((o>>>0).toString(2).split(""));this.posHammingBitsBinary.reverse()}replaceH(o,n){let t=0;return o.map(s=>"H"===s?(t++,n[t-1]):s)}calculateXOR(o,n){let t;for(const l of o)t^=l;const s=(t>>>0).toString(2).split("").reverse(),g=s.length;if(s.length!==n){for(let l=0;l<n;l++)s.push("0");for(let l=0;l<g;l++)s.pop()}return s}findOnes(o){const n=[];for(const[t,s]of o.entries())"1"===s&&n.push(t+1);return n}createDataArray(o,n){const t=[];let s=0,g=0;for(let l=1;l<o.length+n+1;l++)l===Math.pow(2,s)?(t.push("H"),s++):(t.push(o[g]),g++);return t}calculateNumParityBits(o){for(let n=0;n<=o.length+1;n++)if(Math.pow(2,n)>=o.length+n+1)return n}formatMessage(o){return o.split("").reverse()}getRawMessage(o){return"tx"===o?this.codificarForm.get("message").value:"rx"===o?this.decodificarForm.get("message").value:void 0}checkIfBinary(o){"tx"===o?this.isHammingTxCalculated=!1:"rx"===o&&(this.isHammingRxCalculated=!1);const n=this.getRawMessage(o);if(n)for(const t of n)"0"!==t&&"1"!==t&&this.alertCtrl.create({header:"Invalid Character on Message!",message:"Your message will be errased!",buttons:["Okay"]}).then(s=>{s.present(),s.onWillDismiss().then(()=>{"tx"===o?this.codificarForm.get("message").patchValue(null):"rx"===o&&this.decodificarForm.get("message").patchValue(null)})})}calculateRxHamming(){this.alertCtrl.create({header:"Read before continuing!",message:"Keep in mind that Hamming Codes only check one-bit errors!",buttons:["Okay"]}).then(o=>{o.present(),o.onDidDismiss().then(()=>{const n=this.formatMessage(this.getRawMessage("rx"));this.bitsRxData=n;const t=this.findOnes(n);let s;this.onesRx=t;for(const g of t)s^=g;this.errorPos=s,this.errorMsg=0===this.errorPos?"There was no error on transmission!":`There is an error on bit ${this.errorPos}`;for(const g of this.onesRx)this.onesRxBinary.push((g>>>0).toString(2).split(""));this.onesRxBinary.reverse(),this.errorPosBin=(this.errorPos>>>0).toString(2).split("").reverse(),this.isHammingRxCalculated=!0})})}}return e.\u0275fac=function(o){return new(o||e)(i.Y36(a.Br))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-hamming"]],decls:36,vars:8,consts:[["slot","end"],["slot","icon-only",3,"routerLink"],["name","home-outline"],["size","12","sizeLg","6"],[3,"formGroup"],["position","floating"],["formControlName","message","placeholder","Type your message","autoGrow","true","rows","1",3,"ionChange"],[3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","vector",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding"],["class","ion-no-margin ion-no-padding",4,"ngFor","ngForOf"],[1,"ion-no-margin","ion-no-padding","ion-text-right"],[1,"vector"]],template:function(o,n){1&o&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),i._UZ(4,"ion-icon",2),i.qZA()(),i.TgZ(5,"ion-title"),i._uU(6,"Hamming"),i.qZA()()(),i.TgZ(7,"ion-content")(8,"ion-grid")(9,"ion-row")(10,"ion-col",3)(11,"ion-row")(12,"ion-col")(13,"h2"),i._uU(14,"Transmitter"),i.qZA(),i.TgZ(15,"form",4)(16,"ion-item")(17,"ion-label",5),i._uU(18," Message "),i.qZA(),i.TgZ(19,"ion-textarea",6),i.NdJ("ionChange",function(){return n.checkIfBinary("tx")}),i.qZA()(),i.TgZ(20,"ion-button",7),i.NdJ("click",function(){return n.calculateTxHamming()}),i._uU(21," Calculate "),i.qZA()()()(),i.YNc(22,d,23,4,"ion-row",8),i.qZA(),i.TgZ(23,"ion-col",3)(24,"ion-row")(25,"ion-col")(26,"h2"),i._uU(27,"Receiver"),i.qZA(),i.TgZ(28,"form",4)(29,"ion-item")(30,"ion-label",5),i._uU(31," Message "),i.qZA(),i.TgZ(32,"ion-textarea",6),i.NdJ("ionChange",function(){return n.checkIfBinary("rx")}),i.qZA()(),i.TgZ(33,"ion-button",7),i.NdJ("click",function(){return n.calculateRxHamming()}),i._uU(34," Check for errors "),i.qZA()()()(),i.YNc(35,H,14,3,"ion-row",8),i.qZA()()()()),2&o&&(i.xp6(3),i.Q6J("routerLink",i.DdM(7,A)),i.xp6(12),i.Q6J("formGroup",n.codificarForm),i.xp6(5),i.Q6J("disabled",!n.codificarForm.valid),i.xp6(2),i.Q6J("ngIf",n.isHammingTxCalculated),i.xp6(6),i.Q6J("formGroup",n.decodificarForm),i.xp6(5),i.Q6J("disabled",!n.decodificarForm.valid),i.xp6(2),i.Q6J("ngIf",n.isHammingRxCalculated))},dependencies:[u.sg,u.O5,c._Y,c.JJ,c.JL,a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Ie,a.Q$,a.Nd,a.g2,a.wd,a.sr,a.j9,a.YI,h.rH,c.sg,c.u]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[h.Bz.forChild(P),h.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[u.ez,c.u5,a.Pc,q,c.UX]}),e})()}}]);